<%= turbo_frame_tag "application_form" do %>
  <div class="max-w-4xl">
    <h3>Apply for <%= @workshop.title %> </h3>

    <%= simple_form_for :application_form, url: application_forms_path do |f| %>
      <%= f.hint "Please complete the application below and we will be in touch!"%>
      <%= f.input :email %>
      <%= f.input :name %>

      <% if @workshop.application_questions.any? %>
        <% @workshop.application_questions.each do |question| %>
          <% case question.question_format %>
            <% when "short_answer" %>
              <%= f.label "#{question.prompt}" %>
              <%= f.input "#{question.id}" %>
            <% when "long_answer" %>
              <%= f.label "#{question.prompt}"%>
              <br>
              <%= f.text_area "#{question.id}", 
                            class: 'flex w-full shadow appearance-none border border-gray-300 
                            rounded p-2 bg-white focus:outline-none focus:border-blue-500 
                            text-black-400 leading-4 transition-colors duration-200 ease-in-out' %>
              <br>
            <% when "true_false" %>
              <%= f.label "#{question.prompt}" %>
              <br>
              <%= f.input_field "#{question.id}", 
                          as: :radio_buttons, 
                          collection: ['true', 'false'] %>
            <% when "likert" %>
              <%= f.label "#{question.prompt}"%>
              <br>
              <%= f.input_field "#{question.id}", 
                          as: :radio_buttons, 
                          collection: ['1', '2', '3', '4', '5'] %>
            <br>
          <% end %>
        <% end%>
      <% end %>
      <%= f.hidden_field :workshop_id, value: @workshop.id %>
      <%= f.submit "Submit Application", 
                  class: 'my-2 bg-blue-500 hover:bg-blue-700 text-white font-bold text-sm py-2 px-4 rounded' %>
    <% end %>
  </div>
<% end %>